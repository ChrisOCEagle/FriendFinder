<!doctype html>
<html lang="en">
  <head>
    <title></title>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.2/css/bootstrap.min.css" integrity="sha384-Smlep5jCw/wG7hdkwQ/Z5nLIefveQRIY9nfy6xoR1uRYBtpZgI6339F5dgvm/e9B" crossorigin="anonymous">
  </head>
  <body>
    <div class="container">
      <h2>Survey questions</h2>
      <hr>
      <h3>About You</h3>
      <!-- Name and Image -->
      <h5>Name (Required)</h5>
      <input type="text" id="name" class="form-control" required>
      <h5>Link to Photo Image (Required)</h5>
      <input type="text" id="photo" class="form-control" required>
      <hr>
      <!-- Questions -->
      <div class="question-1">
        <h3>Question 1</h3>
        <p style="font-size: 24px">You are constantly thinking about new ideas.</p>
        <select class="chosen-select" id="question-1">
          <option value>Select an option</option>
          <option value="1">1 (Strongly Disagree)</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5 (Strongly Agree)</option>
        </select>
        <br>
      </div>
      <div class="question-2">
        <h3>Question 2</h3>
        <p style="font-size: 24px">You typically prefer to let your actions speak for yourself.</p>
        <select class="chosen-select" id="question-2">
          <option value>Select an option</option>
          <option value="1">1 (Strongly Disagree)</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5 (Strongly Agree)</option>
        </select>
        <br>
      </div>
      <div class="question-3">
        <h3>Question 3</h3>
        <p style="font-size: 24px">You are calm under pressure.</p>
        <select class="chosen-select" id="question-3">
          <option value>Select an option</option>
          <option value="1">1 (Strongly Disagree)</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5 (Strongly Agree)</option>
        </select>
        <br>
      </div>
      <div class="question-4">
        <h3>Question 4</h3>
        <p style="font-size: 24px">You rarely explore possibilities just for the sake of curiosity.</p>
        <select class="chosen-select" id="question-4">
          <option value>Select an option</option>
          <option value="1">1 (Strongly Disagree)</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5 (Strongly Agree)</option>
        </select>
        <br>
      </div>
      <div class="question-5">
        <h3>Question 5</h3>
        <p style="font-size: 24px">You are not easily emotionally moved by the actions of others.</p>
        <select class="chosen-select" id="question-5">
          <option value>Select an option</option>
          <option value="1">1 (Strongly Disagree)</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5 (Strongly Agree)</option>
        </select>
        <br>
      </div>
      <div class="question-6">
        <h3>Question 6</h3>
        <p style="font-size: 24px">You are not very empathetic.</p>
        <select class="chosen-select" id="question-6">
          <option value>Select an option</option>
          <option value="1">1 (Strongly Disagree)</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5 (Strongly Agree)</option>
        </select>
        <br>
      </div>
      <div class="question-7">
        <h3>Question 7</h3>
        <p style="font-size: 24px">You prefer honesty over tact when conversing with others.</p>
        <select class="chosen-select" id="question-7">
          <option value>Select an option</option>
          <option value="1">1 (Strongly Disagree)</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5 (Strongly Agree)</option>
        </select>
        <br>
      </div>
      <div class="question-8">
        <h3>Question 8</h3>
        <p style="font-size: 24px">You often live in a "Fantasy World".</p>
        <select class="chosen-select" id="question-8">
          <option value>Select an option</option>
          <option value="1">1 (Strongly Disagree)</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5 (Strongly Agree)</option>
        </select>
        <br>
      </div>
      <div class="question-9">
        <h3>Question 9</h3>
        <p style="font-size: 24px">You believe that people's opinions must only be respected if they have the facts to back them up.</p>
        <select class="chosen-select" id="question-9">
          <option value>Select an option</option>
          <option value="1">1 (Strongly Disagree)</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5 (Strongly Agree)</option>
        </select>
        <br>
      </div>
      <div class="question-10">
        <h3>Question 10</h3>
        <p style="font-size: 24px">You feel very drained after large social encounters.</p>
        <select class="chosen-select" id="question-10">
          <option value>Select an option</option>
          <option value="1">1 (Strongly Disagree)</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5 (Strongly Agree)</option>
        </select>
        <br>
      </div>
      <br>
      <!-- Submit Button -->
      <button type="submit" class="btn btn-primary btn-lg btn-block" id="submit">Submit</button>
      <hr>
      <div class="row">
        <p>
          <a href="/api/friends">API Friends List</a>
            | 
          <a href="">Github Repo</a>
        </p>
      </div>                                        
    </div>
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.2/js/bootstrap.min.js" integrity="sha384-o+RDsa0aLu++PJvFqy8fFScvbHFLtbvScb8AjopnFD+iEQ7wo/CG0xlczd+2O/em" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery.js"></script>
    <script>
        $("#submit").on("click", function(event) {
          event.preventDefault();
          if (validateForm()) {
            var newFriend = {
              "name": $("#name").val().trim(),
              "photo": $("#photo").val().trim(),
              "scores": [
                $("#question-1").val(),
                $("#question-2").val(),
                $("#question-3").val(),
                $("#question-4").val(),
                $("#question-5").val(),
                $("#question-6").val(),
                $("#question-7").val(),
                $("#question-8").val(),
                $("#question-9").val(),
                $("#question-10").val()
              ]
            };
            $.post("/api/friends", newFriend)
            .then(function(data) {
              alert("adding to database...");
            })
          } else {
            alert("Please fill out all forms before submitting.")
          }
          function validateForm() {
            var isValid = true;
            $(".form-control").each(function() {
              if ($(this).val() === "") {
                isValid = false;
              }
            })
            $(".chosen-select").each(function() {
              if ($(this).val() === "") {
                isValid = false;
              }
            })
            return isValid;
          }
        })
    </script>
  </body>
</html>